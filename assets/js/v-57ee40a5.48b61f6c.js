"use strict";(self.webpackChunkblog=self.webpackChunkblog||[]).push([[289],{8586:(n,s,a)=>{a.r(s),a.d(s,{data:()=>t});const t={key:"v-57ee40a5",path:"/vue/Vuex.html",title:"Vuex",lang:"zh-CN",frontmatter:{title:"Vuex",date:"2022/9/2 09:59",tag:["vuex"],categories:["前端"],coverUrl:"https://bdqn-blog.oss-accelerate.aliyuncs.com/blog/vuex/flow.png"},excerpt:"",headers:[{level:2,title:"1.概述",slug:"_1-概述",children:[{level:3,title:"1-0.回顾组件之间共享数据的方式",slug:"_1-0-回顾组件之间共享数据的方式",children:[]},{level:3,title:"1-1.Vuex是什么",slug:"_1-1-vuex是什么",children:[]},{level:3,title:"1-2.使用Vuex统一管理状态的好处",slug:"_1-2-使用vuex统一管理状态的好处",children:[]},{level:3,title:"1-3.Vuex中适合储存什么",slug:"_1-3-vuex中适合储存什么",children:[]}]},{level:2,title:"2.初识Vuex",slug:"_2-初识vuex",children:[{level:3,title:"2-1.创建项目",slug:"_2-1-创建项目",children:[]},{level:3,title:"2-2.使用webstorm打开项目",slug:"_2-2-使用webstorm打开项目",children:[]},{level:3,title:"2-3.删除无关页面about",slug:"_2-3-删除无关页面about",children:[]},{level:3,title:"2-4.新增两个页面",slug:"_2-4-新增两个页面",children:[]},{level:3,title:"2-5.state",slug:"_2-5-state",children:[]},{level:3,title:"2-6.mutations",slug:"_2-6-mutations",children:[]},{level:3,title:"2-7.actions",slug:"_2-7-actions",children:[]},{level:3,title:"2-8.getter",slug:"_2-8-getter",children:[]}]}],git:{}}},4664:(n,s,a)=>{a.r(s),a.d(s,{default:()=>U});var t=a(6252);const p=(0,t.uE)('<h1 id="vuex" tabindex="-1"><a class="header-anchor" href="#vuex" aria-hidden="true">#</a> Vuex</h1><h2 id="_1-概述" tabindex="-1"><a class="header-anchor" href="#_1-概述" aria-hidden="true">#</a> 1.概述</h2><h3 id="_1-0-回顾组件之间共享数据的方式" tabindex="-1"><a class="header-anchor" href="#_1-0-回顾组件之间共享数据的方式" aria-hidden="true">#</a> 1-0.回顾组件之间共享数据的方式</h3><p>父向子传值: v-bind属性绑定</p><p>子向父传值: v-on事件绑定</p><p>兄弟组件之间共享数据: 给兄弟们找个共同的爸爸(注册中心) $on接收数据的那个组件 $emit发送数据的那个组件</p><blockquote><p>以上这些方式，都仅仅适合小范围的数据传递，如果要频繁地，大范围的进行数据的共享，上述的方式就会很困难</p></blockquote><h3 id="_1-1-vuex是什么" tabindex="-1"><a class="header-anchor" href="#_1-1-vuex是什么" aria-hidden="true">#</a> 1-1.Vuex是什么</h3><p>Vuex是实现组件全局状态(数据）管理的一种机制，可以方便的实现组件之间数据的共享。</p>',9),e=(0,t._)("p",null,[(0,t._)("img",{src:"https://ooszy.cco.vin/img/blog-public/ljz.gif",alt:"img",originSrc:"https://bdqn-blog.oss-accelerate.aliyuncs.com/blog/vuex/%E4%BC%81%E4%B8%9A%E5%BE%AE%E4%BF%A1%E6%88%AA%E5%9B%BE_1627911661439.png",data:"aurora"})],-1),o=(0,t.uE)('<h3 id="_1-2-使用vuex统一管理状态的好处" tabindex="-1"><a class="header-anchor" href="#_1-2-使用vuex统一管理状态的好处" aria-hidden="true">#</a> 1-2.使用Vuex统一管理状态的好处</h3><blockquote><p>1.能够在vuex中集中管理共享的数据，易于开发和后期维护</p><p>2.能够高效地实现组件之间的数据共享，提高开发效率</p><p>3.能够在vuex中集中管理共享的数据，易于开发和后期维护能够高效地实现组件之间的数据共享，提高开发效率------所有引用了vuex里面的组件里面的数据都会自动更新，不需要手动刷新，只要vuex里面的数据发生变化，引用了这些数据的地方也会跟着变化</p></blockquote><h3 id="_1-3-vuex中适合储存什么" tabindex="-1"><a class="header-anchor" href="#_1-3-vuex中适合储存什么" aria-hidden="true">#</a> 1-3.Vuex中适合储存什么</h3><blockquote><p>一般情况下，只有组件之间共享的数据，才有必要存储到vuex中;对于组件中的私有数据，依旧存储在组件自身的data中即可。</p></blockquote><h2 id="_2-初识vuex" tabindex="-1"><a class="header-anchor" href="#_2-初识vuex" aria-hidden="true">#</a> 2.初识Vuex</h2><h3 id="_2-1-创建项目" tabindex="-1"><a class="header-anchor" href="#_2-1-创建项目" aria-hidden="true">#</a> 2-1.创建项目</h3><blockquote><p>找个空白的目录创建项目</p></blockquote><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token comment">#创建一个名为 vuex01的项目</span>\nvue create vuex_01\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div>',8),c=(0,t._)("p",null,[(0,t._)("img",{src:"https://ooszy.cco.vin/img/blog-public/ljz.gif",alt:"image-20210802215618702",originSrc:"https://bdqn-blog.oss-accelerate.aliyuncs.com/blog/vuex/image-20210802215618702.png",data:"aurora"})],-1),l=(0,t._)("blockquote",null,[(0,t._)("p",null,"选手动，选中后敲回车")],-1),u=(0,t._)("p",null,[(0,t._)("img",{src:"https://ooszy.cco.vin/img/blog-public/ljz.gif",alt:"image-20210802215942322",originSrc:"https://bdqn-blog.oss-accelerate.aliyuncs.com/blog/vuex/image-20210802215942322.png",data:"aurora"})],-1),i=(0,t._)("blockquote",null,[(0,t._)("p",null,"选择功能 “选择版本” “babel” “路由” “vuex” 然后回车")],-1),r=(0,t._)("p",null,[(0,t._)("img",{src:"https://ooszy.cco.vin/img/blog-public/ljz.gif",alt:"image-20210802220125736",originSrc:"https://bdqn-blog.oss-accelerate.aliyuncs.com/blog/vuex/image-20210802220125736.png",data:"aurora"})],-1),k=(0,t._)("blockquote",null,[(0,t._)("p",null,"选择2版本的vue，然后回车")],-1),b=(0,t._)("p",null,[(0,t._)("img",{src:"https://ooszy.cco.vin/img/blog-public/ljz.gif",alt:"image-20210802220234731",originSrc:"https://bdqn-blog.oss-accelerate.aliyuncs.com/blog/vuex/image-20210802220234731.png",data:"aurora"})],-1),m=(0,t._)("blockquote",null,[(0,t._)("p",null,"这里问是不是使用历史模式，选择N，然后回车")],-1),g=(0,t._)("p",null,[(0,t._)("img",{src:"https://ooszy.cco.vin/img/blog-public/ljz.gif",alt:"image-20210802220424100",originSrc:"https://bdqn-blog.oss-accelerate.aliyuncs.com/blog/vuex/image-20210802220424100.png",data:"aurora"})],-1),d=(0,t._)("blockquote",null,[(0,t._)("p",null,"配置文件选择 package.json 然后回车")],-1),v=(0,t._)("p",null,[(0,t._)("img",{src:"https://ooszy.cco.vin/img/blog-public/ljz.gif",alt:"image-20210802220539985",originSrc:"https://bdqn-blog.oss-accelerate.aliyuncs.com/blog/vuex/image-20210802220539985.png",data:"aurora"})],-1),h=(0,t._)("blockquote",null,[(0,t._)("p",null,"是否保存为以后的模版，选N，然后回车")],-1),y=(0,t._)("p",null,[(0,t._)("img",{src:"https://ooszy.cco.vin/img/blog-public/ljz.gif",alt:"image-20210802220655208",originSrc:"https://bdqn-blog.oss-accelerate.aliyuncs.com/blog/vuex/image-20210802220655208.png",data:"aurora"})],-1),x=(0,t._)("p",null,"ok创建成功，如果一次没有成功，就多搞几次，搞得多了自然成功的可能性就大了",-1),_=(0,t._)("p",null,[(0,t._)("img",{src:"https://ooszy.cco.vin/img/blog-public/ljz.gif",alt:"image-20210802232526616",originSrc:"https://bdqn-blog.oss-accelerate.aliyuncs.com/blog/vuex/image-20210802232526616.png",data:"aurora"})],-1),f=(0,t._)("h3",{id:"_2-2-使用webstorm打开项目",tabindex:"-1"},[(0,t._)("a",{class:"header-anchor",href:"#_2-2-使用webstorm打开项目","aria-hidden":"true"},"#"),(0,t.Uk)(" 2-2.使用webstorm打开项目")],-1),q=(0,t._)("blockquote",null,[(0,t._)("p",null,"以下是自动创建出来的项目")],-1),w=(0,t._)("p",null,[(0,t._)("img",{src:"https://ooszy.cco.vin/img/blog-public/ljz.gif",alt:"image-20210802234146785",originSrc:"https://bdqn-blog.oss-accelerate.aliyuncs.com/blog/vuex/image-20210802234146785.png",data:"aurora"})],-1),j=(0,t.uE)('<p>如果是已有的工程，则需要增加一步，然后后面的玩法一致</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token comment">#安装 vuex 到本工程</span>\n<span class="token function">npm</span> <span class="token function">install</span> vuex --save\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h4 id="_2-2-1-配置服务器" tabindex="-1"><a class="header-anchor" href="#_2-2-1-配置服务器" aria-hidden="true">#</a> 2-2-1.配置服务器</h4>',3),S=(0,t._)("p",null,[(0,t._)("img",{src:"https://ooszy.cco.vin/img/blog-public/ljz.gif",alt:"image-20210802234502876",originSrc:"https://bdqn-blog.oss-accelerate.aliyuncs.com/blog/vuex/image-20210802234502876.png",data:"aurora"})],-1),z=(0,t._)("h3",{id:"_2-3-删除无关页面about",tabindex:"-1"},[(0,t._)("a",{class:"header-anchor",href:"#_2-3-删除无关页面about","aria-hidden":"true"},"#"),(0,t.Uk)(" 2-3.删除无关页面about")],-1),A=(0,t._)("blockquote",null,[(0,t._)("p",null,"删干净，router/index.js中要删除 Home中的要删除")],-1),V=(0,t._)("h3",{id:"_2-4-新增两个页面",tabindex:"-1"},[(0,t._)("a",{class:"header-anchor",href:"#_2-4-新增两个页面","aria-hidden":"true"},"#"),(0,t.Uk)(" 2-4.新增两个页面")],-1),E=(0,t._)("p",null,[(0,t._)("img",{src:"https://ooszy.cco.vin/img/blog-public/ljz.gif",alt:"image-20210802235835593",originSrc:"https://bdqn-blog.oss-accelerate.aliyuncs.com/blog/vuex/image-20210802235835593.png",data:"aurora"})],-1),P=(0,t.uE)('<p>AddPage.vue</p><div class="language-vue ext-vue line-numbers-mode"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h3</span><span class="token punctuation">&gt;</span></span>当前最新的count值为: {{}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h3</span><span class="token punctuation">&gt;</span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span><span class="token punctuation">&gt;</span></span>点击-1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>SubPage.vue</p><div class="language-vue ext-vue line-numbers-mode"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h3</span><span class="token punctuation">&gt;</span></span>当前最新的count值为: {{}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h3</span><span class="token punctuation">&gt;</span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span><span class="token punctuation">&gt;</span></span>点击+1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h3 id="_2-5-state" tabindex="-1"><a class="header-anchor" href="#_2-5-state" aria-hidden="true">#</a> 2-5.state</h3><blockquote><p>state提供唯一的公共数据源,所有的共享数据都要统一放到store中的state中进行储存</p></blockquote><p>在store/index.js中定义全局共享的数据</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">//4.创建store对象并导出</span>\n<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">new</span> <span class="token class-name">Vuex<span class="token punctuation">.</span>Store</span><span class="token punctuation">(</span><span class="token punctuation">{</span>\n  <span class="token comment">//state提供唯一的公共数据源,所有的共享数据都要统一放到store中的state中进行储存</span>\n  <span class="token literal-property property">state</span><span class="token operator">:</span> <span class="token punctuation">{</span>\n    <span class="token comment">//count是全局共享的计数器</span>\n    <span class="token literal-property property">count</span><span class="token operator">:</span><span class="token number">0</span>\n  <span class="token punctuation">}</span><span class="token punctuation">,</span>\n<span class="token punctuation">}</span>    \n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>以上是共享数据的定义，定义好了之后就是访问，访问的方式有两种</p><h4 id="_2-5-1-第一种访问方式" tabindex="-1"><a class="header-anchor" href="#_2-5-1-第一种访问方式" aria-hidden="true">#</a> 2-5-1.第一种访问方式</h4><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">//在任何位置通过这个方式调用</span>\n<span class="token keyword">this</span><span class="token punctuation">.</span>$store<span class="token punctuation">.</span>state<span class="token punctuation">.</span>count\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>所以在addPage.vue中</p><div class="language-vue ext-vue line-numbers-mode"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>\n    <span class="token comment">&lt;!-- 在template中 {{this.$store.state.count}}里面的this可以省略  --&gt;</span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h3</span><span class="token punctuation">&gt;</span></span>当前最新的count值为: {{$store.state.count}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h3</span><span class="token punctuation">&gt;</span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span><span class="token punctuation">&gt;</span></span>点击+1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h4 id="_2-5-2-第二种访问方式" tabindex="-1"><a class="header-anchor" href="#_2-5-2-第二种访问方式" aria-hidden="true">#</a> 2-5-2.第二种访问方式</h4><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">//1.从vuex中按需导入 mapState 函数</span>\n<span class="token keyword">import</span> <span class="token punctuation">{</span>mapState<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vuex&#39;</span>\n  \n<span class="token comment">//2.将全局数据映射为当前组件的计算属性</span>\n  <span class="token literal-property property">computed</span><span class="token operator">:</span><span class="token punctuation">{</span>\n    <span class="token operator">...</span><span class="token function">mapState</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&#39;count&#39;</span><span class="token punctuation">]</span><span class="token punctuation">)</span>\n  <span class="token punctuation">}</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>所以在subPage.vue中</p><div class="language-vue ext-vue line-numbers-mode"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h3</span><span class="token punctuation">&gt;</span></span>当前最新的count值为: {{count}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h3</span><span class="token punctuation">&gt;</span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span><span class="token punctuation">&gt;</span></span>点击-1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>\n\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">\n<span class="token comment">//1.从vuex中按需导入 mapState 函数</span>\n<span class="token keyword">import</span> <span class="token punctuation">{</span>mapState<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vuex&#39;</span>\n<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>\n  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;SubPage&quot;</span><span class="token punctuation">,</span>\n  <span class="token comment">//2.将全局数据映射为当前组件的计算属性</span>\n  <span class="token literal-property property">computed</span><span class="token operator">:</span><span class="token punctuation">{</span>\n    <span class="token operator">...</span><span class="token function">mapState</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&#39;count&#39;</span><span class="token punctuation">]</span><span class="token punctuation">)</span>\n  <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><h3 id="_2-6-mutations" tabindex="-1"><a class="header-anchor" href="#_2-6-mutations" aria-hidden="true">#</a> 2-6.mutations</h3><blockquote><p>mutations用于变更state中的数据</p><p><strong><code>仅允许通过mutations变更state中的数据,不可以直接操作store中的数据,因为通过这种方式操作数据,可以集中监控所有的数据变化</code></strong></p><p><strong><code>mutations中仅允许使用同步方法，所有的异步操作均不能在这里使用，否则可能会导致数据错乱</code></strong></p></blockquote><h4 id="_2-6-1-定义对数据的操作" tabindex="-1"><a class="header-anchor" href="#_2-6-1-定义对数据的操作" aria-hidden="true">#</a> 2-6-1.定义对数据的操作</h4><blockquote><p>在store/index.js中定义对数据的同步的修改</p></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">//4.创建store对象并导出</span>\n<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">new</span> <span class="token class-name">Vuex<span class="token punctuation">.</span>Store</span><span class="token punctuation">(</span><span class="token punctuation">{</span>\n    <span class="token comment">//state提供唯一的公共数据源,所有的共享数据都要统一放到store中的state中进行储存</span>\n    <span class="token literal-property property">state</span><span class="token operator">:</span> <span class="token punctuation">{</span>\n        <span class="token literal-property property">count</span><span class="token operator">:</span> <span class="token number">0</span>\n    <span class="token punctuation">}</span><span class="token punctuation">,</span>\n    <span class="token comment">//mutations 用于变更state中的数据,</span>\n    <span class="token literal-property property">mutations</span><span class="token operator">:</span> <span class="token punctuation">{</span>\n        <span class="token comment">//在mutations定义对state中的数据的操作</span>\n        <span class="token function">add</span><span class="token punctuation">(</span>state<span class="token punctuation">,</span><span class="token string">&#39;参数(如果没带就不写)&#39;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n            <span class="token comment">//变更数据状态</span>\n            state<span class="token punctuation">.</span>count<span class="token operator">++</span>\n        <span class="token punctuation">}</span>\n    <span class="token punctuation">}</span><span class="token punctuation">,</span>\n<span class="token punctuation">}</span>    \n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><h4 id="_2-6-2-调用mutations中的方法的方式一" tabindex="-1"><a class="header-anchor" href="#_2-6-2-调用mutations中的方法的方式一" aria-hidden="true">#</a> 2-6-2.调用mutations中的方法的方式一</h4><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">//不带参数</span>\n<span class="token keyword">this</span><span class="token punctuation">.</span>$store<span class="token punctuation">.</span><span class="token function">commit</span><span class="token punctuation">(</span><span class="token string">&#39;被调用方法&#39;</span><span class="token punctuation">)</span>\n<span class="token comment">//带参数</span>\n<span class="token keyword">this</span><span class="token punctuation">.</span>$store<span class="token punctuation">.</span><span class="token function">commit</span><span class="token punctuation">(</span><span class="token string">&#39;被调用方法&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;参数&#39;</span><span class="token punctuation">)</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>所以addPage.vue的代码为</p><div class="language-vue ext-vue line-numbers-mode"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>\n    <span class="token comment">&lt;!-- 在template中 {{this.$store.state.count}}里面的this可以省略  --&gt;</span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h3</span><span class="token punctuation">&gt;</span></span>当前最新的count值为: {{$store.state.count}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h3</span><span class="token punctuation">&gt;</span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>addHandler<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>点击+1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>\n\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">\n<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>\n  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;addPage&quot;</span><span class="token punctuation">,</span>\n  <span class="token literal-property property">methods</span><span class="token operator">:</span><span class="token punctuation">{</span>\n    <span class="token function">addHandler</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>\n      <span class="token keyword">this</span><span class="token punctuation">.</span>$store<span class="token punctuation">.</span><span class="token function">commit</span><span class="token punctuation">(</span><span class="token string">&#39;add&#39;</span><span class="token punctuation">)</span>\n    <span class="token punctuation">}</span>\n  <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><h4 id="_2-6-2-调用mutations中的方法的方式二" tabindex="-1"><a class="header-anchor" href="#_2-6-2-调用mutations中的方法的方式二" aria-hidden="true">#</a> 2-6-2.调用mutations中的方法的方式二</h4><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">//1.从vuex中按需导入  mapMutations 函数</span>\n<span class="token keyword">import</span> <span class="token punctuation">{</span>mapMutations<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vuex&#39;</span>\n\n<span class="token comment">//2.将指定的mapMutations函数映射为当前组件的methods函数</span>\n<span class="token literal-property property">methods</span><span class="token operator">:</span><span class="token punctuation">{</span>\n  <span class="token operator">...</span><span class="token function">mapMutations</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&#39;sub&#39;</span><span class="token punctuation">]</span><span class="token punctuation">)</span>\n<span class="token punctuation">}</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>所以subPage.vue中的代码为</p><div class="language-vue ext-vue line-numbers-mode"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h3</span><span class="token punctuation">&gt;</span></span>当前最新的count值为: {{count}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h3</span><span class="token punctuation">&gt;</span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>sub<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>点击-1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>\n\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">\n<span class="token comment">//1.从vuex中按需导入 mapState mapMutations 函数</span>\n<span class="token keyword">import</span> <span class="token punctuation">{</span>mapState<span class="token punctuation">,</span>mapMutations<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vuex&#39;</span>\n<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>\n  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;SubPage&quot;</span><span class="token punctuation">,</span>\n  <span class="token comment">//2.将全局数据映射为当前组件的计算属性</span>\n  <span class="token literal-property property">computed</span><span class="token operator">:</span><span class="token punctuation">{</span>\n    <span class="token operator">...</span><span class="token function">mapState</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&#39;count&#39;</span><span class="token punctuation">]</span><span class="token punctuation">)</span>\n  <span class="token punctuation">}</span><span class="token punctuation">,</span>\n  <span class="token comment">//将指定的mapMutations函数映射为当前组件的methods函数</span>\n  <span class="token literal-property property">methods</span><span class="token operator">:</span><span class="token punctuation">{</span>\n    <span class="token operator">...</span><span class="token function">mapMutations</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&#39;sub&#39;</span><span class="token punctuation">]</span><span class="token punctuation">)</span>\n  <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div><h4 id="效果" tabindex="-1"><a class="header-anchor" href="#效果" aria-hidden="true">#</a> 效果</h4>',31),$=(0,t._)("p",null,[(0,t._)("img",{src:"https://ooszy.cco.vin/img/blog-public/ljz.gif",alt:"image-20210803003230114",originSrc:"https://bdqn-blog.oss-accelerate.aliyuncs.com/blog/vuex/image-20210803003230114.png",data:"aurora"})],-1),M=(0,t.uE)('<h3 id="_2-7-actions" tabindex="-1"><a class="header-anchor" href="#_2-7-actions" aria-hidden="true">#</a> 2-7.actions</h3><blockquote><p>actions用来处理异步任务</p><p>如果通过异步操作变更数据，必须通过action，调用链为 action调用mutation, mutation调用state</p></blockquote><h4 id="_2-7-1-定义异步操作" tabindex="-1"><a class="header-anchor" href="#_2-7-1-定义异步操作" aria-hidden="true">#</a> 2-7-1.定义异步操作</h4><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">//action用来处理异步任务</span>\n<span class="token literal-property property">actions</span><span class="token operator">:</span> <span class="token punctuation">{</span>\n    <span class="token comment">//异步的增加</span>\n    <span class="token function">addAsync</span><span class="token punctuation">(</span><span class="token parameter">mutation</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n        <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>\n            mutation<span class="token punctuation">.</span><span class="token function">commit</span><span class="token punctuation">(</span><span class="token string">&#39;add&#39;</span><span class="token punctuation">)</span>\n        <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span>\n    <span class="token punctuation">}</span><span class="token punctuation">,</span>\n    <span class="token comment">//异步的减少</span>\n    <span class="token function">subAsync</span><span class="token punctuation">(</span><span class="token parameter">mutation</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n        <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>\n            mutation<span class="token punctuation">.</span><span class="token function">commit</span><span class="token punctuation">(</span><span class="token string">&#39;sub&#39;</span><span class="token punctuation">)</span>\n        <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span>\n    <span class="token punctuation">}</span>\n<span class="token punctuation">}</span><span class="token punctuation">,</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><h4 id="_2-7-2-调用异步操作方式一" tabindex="-1"><a class="header-anchor" href="#_2-7-2-调用异步操作方式一" aria-hidden="true">#</a> 2-7-2.调用异步操作方式一</h4><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">this</span><span class="token punctuation">.</span>$store<span class="token punctuation">.</span><span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token string">&#39;具体的异步方法&#39;</span><span class="token punctuation">)</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>所以addPage页面的代码为</p><div class="language-vue ext-vue line-numbers-mode"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>addAsyncOne<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>延时1秒+1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>\n\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">\n<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>\n  <span class="token literal-property property">methods</span><span class="token operator">:</span><span class="token punctuation">{</span>\n    <span class="token function">addAsyncOne</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n      <span class="token keyword">this</span><span class="token punctuation">.</span>$store<span class="token punctuation">.</span><span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token string">&#39;addAsync&#39;</span><span class="token punctuation">)</span>\n    <span class="token punctuation">}</span>\n  <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><h4 id="_2-7-2-调用异步操作方式二" tabindex="-1"><a class="header-anchor" href="#_2-7-2-调用异步操作方式二" aria-hidden="true">#</a> 2-7-2.调用异步操作方式二</h4><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">//1.从vuex中按需导入 mapActions 函数</span>\n<span class="token keyword">import</span> <span class="token punctuation">{</span>mapActions<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vuex&#39;</span>\n\n<span class="token comment">//2将指定的 mapActions 函数映射为当前组件的methods函数</span>\n<span class="token literal-property property">methods</span><span class="token operator">:</span><span class="token punctuation">{</span>\n  <span class="token operator">...</span><span class="token function">mapActions</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&#39;subAsync&#39;</span><span class="token punctuation">]</span><span class="token punctuation">)</span>\n<span class="token punctuation">}</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>所以subPage页面的代码为</p><div class="language-vue ext-vue line-numbers-mode"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>subAsync<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>延时1秒-1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>\n\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">\n<span class="token comment">//1.从vuex中按需导入 mapActions 函数</span>\n<span class="token keyword">import</span> <span class="token punctuation">{</span>mapActions<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vuex&#39;</span>\n<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>\n  <span class="token comment">//2将指定的mapMutations函数映射为当前组件的methods函数</span>\n  <span class="token literal-property property">methods</span><span class="token operator">:</span><span class="token punctuation">{</span>\n    <span class="token operator">...</span><span class="token function">mapActions</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&#39;subAsync&#39;</span><span class="token punctuation">]</span><span class="token punctuation">)</span>\n  <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><h4 id="效果-1" tabindex="-1"><a class="header-anchor" href="#效果-1" aria-hidden="true">#</a> 效果</h4>',13),C=(0,t._)("p",null,[(0,t._)("img",{src:"https://ooszy.cco.vin/img/blog-public/ljz.gif",alt:"image-20210803004710926",originSrc:"https://bdqn-blog.oss-accelerate.aliyuncs.com/blog/vuex/image-20210803004710926.png",data:"aurora"})],-1),G=(0,t.uE)('<h3 id="_2-8-getter" tabindex="-1"><a class="header-anchor" href="#_2-8-getter" aria-hidden="true">#</a> 2-8.getter</h3><blockquote><p>getter用于对store中的数据加工处理形成新的数据</p><p><strong>Getter可以对Store 中已有的数据加工处理之后形成新的数据，类似Vue的计算属性。</strong></p><p><strong>Store 中数据发生变化，Getter的数据也会跟着变化。</strong></p></blockquote><h4 id="_2-8-1-定义getter" tabindex="-1"><a class="header-anchor" href="#_2-8-1-定义getter" aria-hidden="true">#</a> 2-8-1.定义getter</h4><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">//4.创建store对象并导出</span>\n<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">new</span> <span class="token class-name">Vuex<span class="token punctuation">.</span>Store</span><span class="token punctuation">(</span><span class="token punctuation">{</span>\n    <span class="token comment">//state提供唯一的公共数据源,所有的共享数据都要统一放到store中的state中进行储存</span>\n    <span class="token literal-property property">state</span><span class="token operator">:</span> <span class="token punctuation">{</span>\n        <span class="token literal-property property">count</span><span class="token operator">:</span> <span class="token number">0</span>\n    <span class="token punctuation">}</span><span class="token punctuation">,</span>\n    <span class="token comment">//mutations 用于变更state中的数据,</span>\n    <span class="token literal-property property">mutations</span><span class="token operator">:</span> <span class="token punctuation">{</span>\n    <span class="token punctuation">}</span><span class="token punctuation">,</span>\n    <span class="token comment">//action用来处理异步任务</span>\n    <span class="token literal-property property">actions</span><span class="token operator">:</span> <span class="token punctuation">{</span>\n    <span class="token punctuation">}</span><span class="token punctuation">,</span>\n    <span class="token comment">//getter用于对store中的数据加工处理形成新的数据</span>\n    <span class="token literal-property property">getters</span><span class="token operator">:</span><span class="token punctuation">{</span>\n        <span class="token function">showCount</span><span class="token punctuation">(</span><span class="token parameter">state</span><span class="token punctuation">)</span><span class="token punctuation">{</span>\n            <span class="token keyword">return</span> <span class="token string">&#39;当前计数器的值为: [&#39;</span><span class="token operator">+</span> state<span class="token punctuation">.</span>count<span class="token operator">+</span><span class="token string">&#39;]&#39;</span>\n        <span class="token punctuation">}</span>\n    <span class="token punctuation">}</span><span class="token punctuation">,</span>\n    <span class="token comment">//</span>\n    <span class="token literal-property property">modules</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span>\n\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div><h4 id="_2-8-2-getter取值方式一" tabindex="-1"><a class="header-anchor" href="#_2-8-2-getter取值方式一" aria-hidden="true">#</a> 2-8-2.getter取值方式一</h4><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">this</span><span class="token punctuation">.</span>$store<span class="token punctuation">.</span>getters<span class="token punctuation">.</span>名称\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>所以addPage的代码为</p><div class="language-vue ext-vue line-numbers-mode"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h3</span><span class="token punctuation">&gt;</span></span>当前最新的count值为: {{$store.getters.showCount}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h3</span><span class="token punctuation">&gt;</span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h4 id="_2-8-3-getter取值方式二" tabindex="-1"><a class="header-anchor" href="#_2-8-3-getter取值方式二" aria-hidden="true">#</a> 2-8-3.getter取值方式二</h4><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">//1.从vuex中按需导入mapGetters 函数</span>\n<span class="token keyword">import</span> <span class="token punctuation">{</span>mapGetters<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vuex&#39;</span>\n\n<span class="token comment">//2.将全局数据映射为当前组件的计算属性</span>\n<span class="token literal-property property">computed</span><span class="token operator">:</span><span class="token punctuation">{</span>\n  <span class="token operator">...</span><span class="token function">mapGetters</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&#39;showCount&#39;</span><span class="token punctuation">]</span><span class="token punctuation">)</span>\n<span class="token punctuation">}</span><span class="token punctuation">,</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>所以subPage页面的代码为</p><div class="language-vue ext-vue line-numbers-mode"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h3</span><span class="token punctuation">&gt;</span></span>当前最新的count值为: {{showCount}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h3</span><span class="token punctuation">&gt;</span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>sub<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>点击-1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">&gt;</span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>subAsync<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>延时1秒-1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>\n\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">\n<span class="token comment">//1.从vuex中按需导入 mapState mapMutations 函数</span>\n<span class="token keyword">import</span> <span class="token punctuation">{</span>mapState<span class="token punctuation">,</span>mapMutations<span class="token punctuation">,</span>mapActions<span class="token punctuation">,</span>mapGetters<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vuex&#39;</span>\n<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>\n  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;SubPage&quot;</span><span class="token punctuation">,</span>\n  <span class="token comment">//2.将全局数据映射为当前组件的计算属性</span>\n  <span class="token literal-property property">computed</span><span class="token operator">:</span><span class="token punctuation">{</span>\n    <span class="token operator">...</span><span class="token function">mapState</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&#39;count&#39;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n    <span class="token operator">...</span><span class="token function">mapGetters</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&#39;showCount&#39;</span><span class="token punctuation">]</span><span class="token punctuation">)</span>\n  <span class="token punctuation">}</span><span class="token punctuation">,</span>\n  <span class="token comment">//2将指定的mapMutations函数映射为当前组件的methods函数</span>\n  <span class="token literal-property property">methods</span><span class="token operator">:</span><span class="token punctuation">{</span>\n    <span class="token operator">...</span><span class="token function">mapMutations</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&#39;sub&#39;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n    <span class="token operator">...</span><span class="token function">mapActions</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&#39;subAsync&#39;</span><span class="token punctuation">]</span><span class="token punctuation">)</span>\n  <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br></div></div><h4 id="效果-2" tabindex="-1"><a class="header-anchor" href="#效果-2" aria-hidden="true">#</a> 效果</h4>',13),B=(0,t._)("p",null,[(0,t._)("img",{src:"https://ooszy.cco.vin/img/blog-public/ljz.gif",alt:"image-20210803010234599",originSrc:"https://bdqn-blog.oss-accelerate.aliyuncs.com/blog/vuex/image-20210803010234599.png",data:"aurora"})],-1),H={},U=(0,a(3744).Z)(H,[["render",function(n,s){return(0,t.wg)(),(0,t.iD)(t.HY,null,[p,e,o,c,l,u,i,r,k,b,m,g,d,v,h,y,x,_,f,q,w,j,S,z,A,V,E,P,$,M,C,G,B],64)}]])}}]);